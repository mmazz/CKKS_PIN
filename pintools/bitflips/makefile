#
# Copyright (C) 2004-2013 Intel Corporation.
# SPDX-License-Identifier: MIT
#

##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

.PHONY: run-pin build-pin

PIN_ROOT = ../pin/
# If the tool is built out of the kit, PIN_ROOT must be specified in the make invocation and point to the kit root.
CONFIG_ROOT := $(PIN_ROOT)/source/tools/Config
include $(CONFIG_ROOT)/makefile.config
include makefile.rules
include $(TOOLS_ROOT)/Config/makefile.default.rules


build-pin:
	$(MAKE) obj-intel64/pintool_bitflip.so TARGET=intel64

run-pin: build-pin
	export CKKS_CONFIG_PATH=$$HOME/CKKS_PIN && \
	../pin/pin -t obj-intel64/pintool_bitflip.so -addr 0x8c4ce0 -bit 0 -- ../../build/bin/test 1 1


##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################
