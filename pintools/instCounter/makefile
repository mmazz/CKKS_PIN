#
# Copyright (C) 2004-2013 Intel Corporation.
# SPDX-License-Identifier: MIT
#

##############################################################
#
#                   DO NOT EDIT THIS FILE!
#
##############################################################

#TARGET_FUNC=_ZN8lbcrypto17CryptoContextImplINS_12DCRTPolyImplIN9bigintdyn9mubintvecINS2_5ubintImEEEEEEE7DecryptERKSt10shared_ptrIKNS_14CiphertextImplIS7_EEES9_INS_14PrivateKeyImplIS7_EEEPS9_INS_13PlaintextImplEE
# encriypt
TARGET_FUNC=_ZNK8lbcrypto17CryptoContextImplINS_12DCRTPolyImplIN9bigintdyn9mubintvecINS2_5ubintImEEEEEEE7EncryptERKSt10shared_ptrINS_13PlaintextImplEES9_INS_14PrivateKeyImplIS7_EEE
# test func
#TARGET_FUNC=_Z8testVoidv
NTT_FUNC=_ZN8lbcrypto12DCRTPolyImplIN9bigintdyn9mubintvecINS1_5ubintImEEEEE12SwitchFormatEv
COEFF=0
NUM_COEFF=8
BIT=50
CKKS_CONFIG_PATH := $(HOME)/CKKS_PIN
.PHONY: run build

PIN_ROOT = ../pin/
# If the tool is built out of the kit, PIN_ROOT must be specified in the make invocation and point to the kit root.
CONFIG_ROOT := $(PIN_ROOT)/source/tools/Config
include $(CONFIG_ROOT)/makefile.config
include makefile.rules
include $(TOOLS_ROOT)/Config/makefile.default.rules

build: obj-intel64/openfhe_counter.so
	$(MAKE) obj-intel64/openfhe_counter.so TARGET=intel64

run: build
	export CKKS_CONFIG_PATH=$(CKKS_CONFIG_PATH) && \
	../pin/pin -t obj-intel64/openfhe_counter.so -- ../../build/bin/counter

